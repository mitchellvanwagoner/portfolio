
<div class="project-container">
    <h1>Console (Custom Keyboard)</h1>
    <div class="project-header">
        <p class="project-date">April 2024 - Current</p>
    </div>

    <div class="project-content">
        <section class="project-overview">
            <h2>Overview</h2>
            
            <div class="image-text-block image-left size-lg">
                <div class="image-container">
                    <img src="data/keyboard (1).jpg" alt="NASA Console Inspiration" class="hover-close">
                    <div class="image-caption">NASA Console styled Keyboard</div>
                </div>
                <div class="text-container">
                    <p>In this project I wanted to design and build a custom keyboard following the design style of 50's NASA consoles. In this project I wanted to design and build a custom keyboard following the design style of 50's NASA consoles.</p>
                </div>
            </div>

            <div class="tech-stack">
                <h3>Technologies Used</h3>
                <div class="tech-badges">
                    <span class="tech-badge hover-close">Raspberry Pi 3B+</span>
                    <span class="tech-badge hover-close">RaspberryPi Micro - RP2040</span>
                    <span class="tech-badge hover-close">3D Printing - PLA/PETG Filament</span>
                    <span class="tech-badge hover-close">Kailh Box White/Jade Mechanical Switches</span>
                </div>
            </div>
            
            <div class="project-features">
                <h3>Key Features</h3>
                <ul>
                    <li>Keyboard inspired by 50's NASA console</li>
                    <li>Display to show computer statistics</li>
                    <li>Linear volume control sliders</li>
                    <li>Upgradeable design</li>
                    <li>Left side Numpad / Macropad</li>
                </ul>
            </div>

            <div class="challenges-list">
                <h3>Challenges & Solutions</h3>
                <ul>
                    <li>
                        <strong>Challenge:</strong> Achieving authentic retro aesthetic while maintaining modern functionality<br>
                        <strong>Solution:</strong> Researched original NASA console designs and adapted color schemes and button layouts for modern PCB constraints
                    </li>
                    <li>
                        <strong>Challenge:</strong> Integrating display and volume controls with keyboard matrix<br>
                        <strong>Solution:</strong> Used separate microcontroller for peripheral functions with USB HID communication
                    </li>
                </ul>
            </div>

            <!-- <div class="project-links">
                <h3>Project Links</h3>
                <div class="links">
                    <a href="https://github.com/mitchellvanwagoner/custom-keyboard" target="_blank" class="project-btn hover-close">
                        View on GitHub
                    </a>
                    <a href="content/projects/keyboard/keyboard-build-log.pdf" target="_blank" class="project-btn hover-close">
                        Build Log (PDF)
                    </a>
                    <a href="https://youtu.be/demo-video-id" target="_blank" class="project-btn hover-close">
                        Demo Video
                    </a>
                </div>
            </div> -->

            <br>

            <div class="project-gallery carousel-compact" id="keyboard-project">
                <h3>Project Gallery</h3>
                <div class="carousel-container hover-far"></div>
            </div>
            
        </section>




        <section class="project-report">
            <h2>Project Report</h2>
            <h3>Inspiration and Design</h3>
            <hr>
            <div class="image-text-block image-left size-lg">
                <div class="image-container">
                    <img src="data/keyboard (0.1).jpg" alt="Apollo era NASA console inspiration" class="hover-close">
                    <div class="image-caption">Apollo era NASA console inspiration</div>
                </div>
                <div class="text-container">
                    <p>I started by looking at my inspiration, which as you can see from the picture, was Apollo era NASA consoles. I really like the old 70's function-first design of these consoles which enabled one of the greatest feats of human engineering, landing humans on the moon. I noted the flat angled surfaces with clusters of buttons fitted neatly in their own sections. The larger screen panels incorporated handles to facilitate easy handling for quick maintenance.</p>
                </div>
            </div>

            <div class="image-text-block image-left size-xl">
                <div class="image-container">
                    <img src="data/keyboard (0.2).jpg" alt="Initial 3D design mockup" class="hover-close">
                    <div class="image-caption">Early 3D design concept</div>
                </div>
                <div class="text-container">
                    <p>Going forward with this design language, I quickly mocked up a 3D design just laying out what I wanted the keyboard to look like. I knew I wanted a full keyboard but with the numpad swapped to the left side, the full 24 F-keys (as supported by windows), a screen, and some form of linear/rotary physical input. I also wanted a second panel with an aggressive angle to hold the F-keys, screen, and physical input. This angled panel would call back to the various flat panels of the NASA consoles. And to evoke the imagery of old industrial equipment, I named the project "Console".</p>
                </div>
            </div>

            <div class="image-text-block image-left size-xl">
                <div class="image-container">
                    <img src="data/keyboard (1).jpg" alt="Final 3D model design" class="hover-close">
                    <div class="image-caption">Finalized 3D model ready for printing</div>
                </div>
                <div class="text-container">
                    <p>From the get-go, my intention was to 3D print the case of the keyboard and any component brackets required. And, after countless hours and revisions, I came up with a finalized 3D model of my console keyboard. It swapped out the rotary encoder I initially mocked up with a bank of 5 linear potentiometers for controlling various volume sources. The keyboard was split into a "top" and "bottom" section, so the whole keyboard could be split for ease of assembly and also printing. I also designed the main keyboard plate, the F-key plate, and volume slider plate. These plates would allow me to print these sections separately, giving me the ability to modify the keyboard down the line if I decided to make any changes.</p>
                </div>
            </div>

            <h3>3D Printing and Gluing</h3>
            <hr>
            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (2).jpg" alt="3D printed case parts" class="hover-close">
                    <div class="image-caption">Printed case components ready for assembly</div>
                </div>
                <div class="text-container">
                    <p>The design of the keyboard was made with the intention of using my larger custom built 3D printer. However, after acquiring a Bambu Labs P1s printer, I found the print quality to be much better and thus needed to figure out how to make the keyboard on a smaller printer. After finishing the design, I set out to make the case. As mentioned earlier, I changed printers after designing, so I had to make some adjustments to my printing strategy. Fortunately, the adjustments were pretty easily made. Due to the flat simple geometry of the case, I only needed to split the top of the keyboard into 4 quadrants.</p>
                </div>
            </div>

            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (3).jpg" alt="Bottom case printed in two sections" class="hover-close">
                    <div class="image-caption">Bottom case split into left and right sections</div>
                </div>
                <div class="text-container">
                    <p>The bottom of the case was a similar story except it only needed to be split into two sections, left and right. This split also meant I didn't need to use any supports while printing, saving on material costs and cleanup.</p>
                </div>
            </div>

            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (4).jpg" alt="Test fitting F-key plate and screen" class="hover-close">
                    <div class="image-caption">Test fitting the F-key plate and screen assembly</div>
                </div>
                <div class="text-container">
                    <p>After the parts were printed, I quickly clamped pieces together to make sure everything fit as I expected. Here you can see me fit the F-key plate and the screen to the upper half of the top of the case.</p>
                </div>
            </div>

            <div class="image-text-block image-right size-md">
                <div class="image-container">
                    <img src="data/keyboard (5).jpg" alt="Sanding junction surfaces flat" class="hover-close">
                    <div class="image-caption">Preparing mating surfaces with precision sanding</div>
                </div>
                <div class="text-container">
                    <p>Once I was happy with everything, I taped down a sheet of sand paper to a flat surface and sanded the junctions of parts to make sure they would mate perfectly while gluing. Pictured here you can see I taped my sandpaper onto my workbench which has rubber matting, I quickly swapped to using a different section of bench that was hard wood for a flatter surface.</p>
                </div>
            </div>

            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (6).jpg" alt="CA glue assembly process" class="hover-close">
                    <div class="image-caption">Bonding left and right sections with CA glue</div>
                </div>
                <div class="text-container">
                    <p>After the surfaces were made flat, I started gluing the parts together with CA glue. Here you can see I glued the left and right section of each part together first.</p>
                </div>
            </div>

            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (8).jpg" alt="Main keyboard plate assembly" class="hover-close">
                    <div class="image-caption">Assembling and securing the main keyboard plate</div>
                </div>
                <div class="text-container">
                    <p>I also had to print the main keyboard plate in two pieces, so I quickly glued it together and screwed it into place while also clamingd the sides together. Doing this ensured the plate would be able to fit in its proper place when it finished gluing.</p>
                </div>
            </div>

            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (9).jpg" alt="Clamping top case halves" class="hover-close">
                    <div class="image-caption">Clamping ensures gap-free joints during curing</div>
                </div>
                <div class="text-container">
                    <p>Next I glued the upper and lower halves of the top case together, making sure to clamp it down so no gaps would form between the parts.</p>
                </div>
            </div>

            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (10).jpg" alt="Bluing technique for surface flatness" class="hover-close">
                    <div class="image-caption">Using bluing to identify uneven surfaces</div>
                </div>
                <div class="text-container">
                    <p>Once everything was glued, I then needed to make sure the mating surfaces between the top and bottom case parts would fit with no gaps. So I used the "bluing" technique where you apply a coloring to the surface you want to make flat. Then, as you sand, you can see what parts haven't been sanded. This gives you an idea of which sections are uneven.</p>
                </div>
            </div>

            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (11).jpg" alt="Identifying and correcting uneven areas" class="hover-close">
                    <div class="image-caption">Blue residue indicates areas requiring additional sanding</div>
                </div>
                <div class="text-container">
                    <p>Here you can see that the upper left of this surface was lower than the rest of the edge because it still has some blue left. So I marked out the edge again and resanded until everything was as even as I could reasonably get.</p>
                </div>
            </div>

            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (12).jpg" alt="Installing heat set inserts" class="hover-close">
                    <div class="image-caption">Installing heat set inserts for easy assembly</div>
                </div>
                <div class="text-container">
                    <p>After the surfaces were prepped, I then added heat set inserts to allow for the top and bottom to be bolted together.</p>
                </div>
            </div>

            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (12.1).jpg" alt="Custom machined handles" class="hover-close">
                    <div class="image-caption">Custom-cut and tapped handles for the front case</div>
                </div>
                <div class="text-container">
                    <p>During this process I also cut and tapped the handles that would go on the front of the case.</p>
                </div>
            </div>

            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (13).jpg" alt="Functional test fit on desk" class="hover-close">
                    <div class="image-caption">First functional test in the intended workspace</div>
                </div>
                <div class="text-container">
                    <p>At this point everything was essentially functional, so I did another test fit and placed it on my desk to get a sense of how it would be when I'm finished.</p>
                </div>
            </div>

            <h3>Surface Prep and Painting</h3>
            <hr>
            <div class="image-text-block image-left size-lg">
                <div class="image-container">
                    <img src="data/keyboard (15).jpg" alt="Bondo body filler application" class="hover-close">
                    <div class="image-caption">Applying body filler to eliminate seam lines</div>
                </div>
                <div class="text-container">
                    <p>I was happy with the way everything was turning out, so I moved to finishing the surfaces and painting. During the gluing process, I used clamps to make sure there wouldn't be any gaps. However nothing is perfect and there were indeed small seams between all the parts I glued up. So to fix this I used bondo body filler which is like clay that is used in car body work to fill in scratches and dents among several other applications. Using a spatula, I pushed the bondo into the seams and scraped the excess to be level with the rest of the case.</p>
                </div>
            </div>

            <div class="image-text-block image-left size-lg">
                <div class="image-container">
                    <img src="data/keyboard (16).jpg" alt="Filing decorative fins" class="hover-close">
                    <div class="image-caption">Hand filing the decorative fin details</div>
                </div>
                <div class="text-container">
                    <p>I also used a hand file to sand down the "fins" I designed into the top most surface of the case. They were present on the "top" and "bottom" halves of the case, and they didn't perfectly line up after gluing.</p>
                </div>
            </div>

            <div class="image-text-block image-left size-lg">
                <div class="image-container">
                    <img src="data/keyboard (18).jpg" alt="Masking for paint preparation" class="hover-close">
                    <div class="image-caption">Careful masking protects threads and interior surfaces</div>
                </div>
                <div class="text-container">
                    <p>Finished with sanding, I taped the inside of the case in preparation for painting. I also taped all the exposed threads to keep them from getting gummed up.</p>
                </div>
            </div>

            <div class="image-text-block image-left size-lg">
                <div class="image-container">
                    <img src="data/keyboard (18.1).gif" alt="Rotating paint stand in action" class="hover-close">
                    <div class="image-caption">Custom rotating stand enables optimal spray angles</div>
                </div>
                <div class="text-container">
                    <p>Due to how large my parts were, I wanted a way to rotate and position them for the best angle for painting. To accomplish this, I built an adjustable stand on a lazy susan. I used some coolant hose bolted to a lazy susan with arms on the end that I could mount to my parts. This let me position my parts and rotate them easily while painting.</p>
                </div>
            </div>

            <div class="image-text-block image-left size-lg">
                <div class="image-container">
                    <img src="data/keyboard (19).jpg" alt="Outdoor paint booth setup" class="hover-close">
                    <div class="image-caption">Makeshift outdoor paint booth with wind protection</div>
                </div>
                <div class="text-container">
                    <p>I set up a makeshift paint booth with some painters plastic pinned to some trees and put down a piece of cardboard and an old battery to keep the wind from blowing the plastic away. Not pictured, I also painted each plate a solid black.</p>
                </div>
            </div>

            <h3>Electronics and Wiring</h3>
            <hr>
            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (22).jpg" alt="Custom cable modification" class="hover-close">
                    <div class="image-caption">Creating a coiled USB cable with custom connector</div>
                </div>
                <div class="text-container">
                    <p>While the paint was drying, I set to make the cable. I purchased a braided USB cable and cut off one end. I stripped back the 4 internal wires, and soldered them to my connector. This part isn't pictured here, but I couldn't find a coiled cable long enough, so I used an 8mm rod and wrapped my straight cable around it making sure to leave a few inches on each side so the entire length of cable wouldn't be coiled, and clamped it in place. I then used a heat gun to warm up the cable and get the plastic in the braid to reform in the coiled shape. After about an hour in the oven, I pulled everything out and let it cool with the cable still clamped on the rod. Once cooled, I pulled off the cable and it retained its coiled shape.</p>
                </div>
            </div>

            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (23).jpg" alt="Cable bulkhead test fit" class="hover-close">
                    <div class="image-caption">Testing cable fit in the custom bulkhead connector</div>
                </div>
                <div class="text-container">
                    <p>Once the cable was done I test fit it in a small test print of the keyboard bulkhead that is on the bottom part of the case.</p>
                </div>
            </div>

            <div class="dual-image-block primary-right primary-lg secondary-md">
                <div class="dual-image-primary">
                    <img src="data/keyboard (25.1).jpg" alt="Electronics assembly on prototyping board">
                    <div class="image-caption">Controller, ADC chips, and multiplexer wired on prototype board</div>
                </div>
                <div class="dual-image-block-side">
                    <div class="dual-image-text">
                        <p>Continuing on with the electronic parts, I soldered up the controller, the two ADC chips for more ADC pins, and a multiplexer to give me more digital pins. I wired everything on a prototyping board, and connected each pin to one of three cable connectors. I separated the wires out to either the main keyboard, the F-keys, or the linear potentiometers. Keeping these cables separated will allow me to create the wiring loom easily and also give me the ability to quickly disassemble the keyboard in the future.</p>
                    </div>
                    <div class="dual-image-secondary">
                        <img src="data/keyboard (25).jpg" alt="Controller electronics detail">
                        <div class="image-caption">Wiring the underside of the controller</div>
                    </div>
                </div>
            </div>

            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (25.2).jpg" alt="Raspberry Pi mounted to LCD screen" class="hover-close">
                    <div class="image-caption">Raspberry Pi 3B+ mounted behind LCD touchscreen</div>
                </div>
                <div class="text-container">
                    <p>I also mounted a raspberry pi 3b+ on the back of a LCD touch screen. This will be a solid platform for me to develop a dashboard / screen interface for my keyboard. I want to have my PC stats like temperatures and fan speed displayed here along with some fun visuals like a rotating globe showing the location of GPS satellites and the ISS.</p>
                </div>
            </div>

            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (26).jpg" alt="Hand-wired keyboard matrix" class="hover-close">
                    <div class="image-caption">Hand-wired matrix using 16 AWG copper wire</div>
                </div>
                <div class="text-container">
                    <p>From the beginning I decided I wanted to hand wire this keyboard together, rather than designing a PCB that I could quickly solder everything to. I decided this partly as an homage to the hand wired computers sent into space by the Apollo missions, but also because I wanted to delay my learning of PCB design software. So to hand wire everything, I used some 16 AWG copper wire which was easily bendable with some pliers and held its shape. I started with soldering a line down each row. During the process though, I found that at each solder joint, due to the expansion and subsequent shrinkage of the joints when soldered, the plate would start to curl.</p>
                </div>
            </div>

            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (28).jpg" alt="Kapton tape electrical isolation" class="hover-close">
                    <div class="image-caption">Kapton tape provides electrical isolation between matrix layers</div>
                </div>
                <div class="text-container">
                    <p>After doing each row on the main plate and the F-key plate, I used some kapton tape to electrically isolate the wires. Also note here you can really see the main keyboard curling due to the shrinking of the copper rails.</p>
                </div>
            </div>

            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (30).jpg" alt="Diode installation technique" class="hover-close">
                    <div class="image-caption">Custom diode mounting technique using wire loops</div>
                </div>
                <div class="text-container">
                    <p>I then moved on adding diodes to each switch. I again used the 16 AWG copper, but this time it was to wrap the diode leads around the wire. This allowed me to simply place the loop in the remaining key switch lead, holding it in place and also making a nice pocket for solder to flow into.</p>
                </div>
            </div>

            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (32).jpg" alt="Completed main keyboard diode installation" class="hover-close">
                    <div class="image-caption">Most diodes installed on the main keyboard plate</div>
                </div>
                <div class="text-container">
                    <p>Here are most of the diodes soldered to the main keyboard plate.</p>
                </div>
            </div>

            <div class="image-text-block image-right size-lg">
                <div class="image-container">
                    <img src="data/keyboard (33).jpg" alt="Volume slider plate wiring" class="hover-close">
                    <div class="image-caption">Volume slider assembly with power and signal rails</div>
                </div>
                <div class="text-container">
                    <p>I used a similar strategy for soldering up the volume slider plate. I first mounted the sliders to the plate, then soldered a rail for both the 5V and ground pins that were on opposite ends of the sliders. Then each slider got its own wire for the out pin that will be read by the ADC chips to determine their positions.</p>
                </div>
            </div>

            <h3>Coding the Display</h3>
            <hr>
            <div class="image-text-block image-left size-lg">
                <div class="image-container">
                    <img src="data/keyboard (40).jpg" alt="Display layout" class="hover-close">
                    <div class="image-caption">Quick mockup of the keyboard display</div>
                </div>
                <div class="text-container">
                    <p>I knew I wanted a console aesthetic to the display and it should evoke 50's retro displays with clearly deliniated areas for data and charts. I also wanted some movement to the display, something that would be eye catching but also not too distracting. So I decided to put in a animation of a rotating globe. This would also allow me to show where in the world I am currently located along with the posisitons of GPS satelites and the ISS for good measure. This was also loosely based on a program called eDEX-UI, which is a graphical terminal emulator meant to replicate the feeling of the matrix or other 80's/90's hacker movies.</p>
                </div>
            </div>

            <div class="image-text-block image-left size-lg">
                <div class="image-container">
                    <img src="data/keyboard (41).jpg" alt="Display layout" class="hover-close">
                    <div class="image-caption">Proof of concept Python Dashboard UI</div>
                </div>
                <div class="text-container">
                    <p>Being most familiar with, and it being generally quick to use, I started building my dashboard UI in python. I decided against adding some of the more detailed aspects of the UI from my paper mockup like the process manager and the buttons (I didn't quite know what I wanted to do with them anyways). I was able to get the globe animation working and then I imported the PGS satelitte and ISS locations from NASA. I then setup a MQTT server on my pc and published stats like my temperatures and network speeds, and then subscribed to the server in the python code and was able to build the graphs and charts.</p>
                    <p>However, this was meant to run on a raspberry pi 3B+, and while the charts were easy enough to display for the rpi, the globe animation was too much for it to handle. So I decided to switch to using javascript and build a web app that the pi could run through an electron framework..</p>
                </div>
            </div>


            <div class="coming-soon">
                <h3>More Progress Coming Soon</h3>
                <p>This is a continuing project, so more progress will be added as I continue to build the keyboard. Check back soon for updates!</p>
            </div>
        </section>

    </div> 
</div>

